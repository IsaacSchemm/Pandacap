@using Pandacap.Data

@model GeneralInboxItem

@{
    ViewBag.Title = "View Feed Item";
}

<h1>
    <img height="50" src="@(Model.FeedIconUrl ?? "/images/trgray.svg")" alt="" />
    <span style="display: inline-block; vertical-align: top">
        <strong>
            <a href="@Model.FeedWebsiteUrl" target="_blank">
                @(Model.DisplayFeedTitle)
            </a>
        </strong>
    </span>
</h1>

@if (Model.HtmlBody != null)
{
    <div style="white-space: pre-line">@Html.Raw(new Ganss.Xss.HtmlSanitizer().Sanitize(Model.HtmlBody))</div>
}
else
{
    <p style="white-space: pre-line">
        @Model.TextBody
    </p>
}

<p class="text-muted">
    <a href="@Model.Url" target="_blank">
        @Model.Timestamp
    </a>
</p>

<hr />

<p>
    @if (Model.AudioUrl != null)
    {
        <a class="btn btn-outline-primary" asp-controller="Podcast" asp-action="Player" asp-route-id="@Model.Id" target="_blank" onclick="event.preventDefault(); window.open(event.target.href, '_blank', 'popup=true,width=600,height=300')">
            Launch player
        </a>
    }
</p>
