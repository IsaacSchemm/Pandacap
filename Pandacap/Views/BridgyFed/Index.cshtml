@model IEnumerable<BridgedPostViewModel>

@{
    foreach (var item in Model)
    {
        <div class="bridged-post @(item.Found ? "found" : "not-found")">
            <p class="small">
                @item.Timestamp.UtcDateTime.ToLongDateString()
                @item.Timestamp.UtcDateTime.ToShortTimeString()
            </p>

            <p>
                @item.Text
            </p>

            <p>
                <a href="@item.OriginalUrl" class="btn btn-sm btn-primary">ActivityPub</a>
                <a href="@item.BlueskyAppUrl" class="btn btn-sm btn-primary">Bluesky</a>
            </p>

            <form asp-action="SendDeleteActivity" method="post" onsubmit="confirm('Are you sure you want to delete this post from Bridgy Fed?')">
                <input type="hidden" name="id" value="@item.ActivityPubId" />
                <button class="btn btn-sm btn-danger" type="submit">
                    Delete from Bridgy Fed
                </button>
            </form>
        </div>
    }
}

<style type="text/css">
    .bridged-post {
        border: 1px solid #ccc;
        background-color: #eee;
        margin: 0.5em;
    }

        .bridged-post.not-found {
            border-color: #cc4444;
            background-color: #ffcccc;
        }

        .bridged-post p,
        .bridged-post form {
            display: block;
            margin: 0.5em;
        }
</style>