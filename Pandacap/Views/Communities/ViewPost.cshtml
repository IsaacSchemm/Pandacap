@model PostViewModel

@{
    ViewBag.Title = Model.PostView.post.name;

    var po = Model.PostView;
}

@foreach (string banner in Model.Community.Banners)
{
    <div class="mb-3 lemmy-banner">
        <img src="@banner" alt="" />
    </div>
}

<p>
    <div class="small">
        <a href="@po.creator.actor_id" target="_blank">
            @foreach (string icon in po.creator.Avatars)
            {
                <img height="20" src="@icon" alt="" />
            }
            @po.creator.Names.First()
        </a>
    </div>

    <div>
        <strong>
            @po.post.name
        </strong>
    </div>

    @foreach (string body in po.post.Bodies)
    {
        <div style="white-space: pre-wrap">@body</div>
    }

    <div class="small text-muted">
        @po.post.published.UtcDateTime.ToLongDateString()
    </div>

    <div class="small text-muted">
        @po.counts.score
        &middot;
        <a href="@po.post.ap_id" target="_blank">@po.counts.comments comment(s)</a>
        &middot;
        <a asp-controller="RemotePosts" asp-action="Index" asp-route-id="@po.post.ap_id">Reply</a>
    </div>
</p>

@foreach (var cb in Model.Comments)
{
    <hr />

    <partial name="_Comment" model="@cb" />
}
